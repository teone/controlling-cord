<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>CORD UIs</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Fonts -->
		<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">

		<!-- Custom CSS -->
		<link rel="stylesheet" href="lib/css/custom.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			console.log(window.location.search)
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section data-transition="zoom" data-background-image="lib/images/cord-bg.jpg">
					<h1>
						<img class="plain" src="lib/images/cord-logo.png">
					</h1>
					<h2>User Interfaces</h2>
				</section>
				<section>
					<section>
						<h1>
							<img class="plain stretch" src="lib/images/teone.jpeg">
						</h1>
						<h3>
							Matteo Scandolo
						</h3>
					</section>
					<section>
						<!--<span class="fragment">TST Member</span>-->
						<p class="fragment fade-up">ONF Member of Technical staff</p>
						<h1 class="fragment fade-up">Developer</h1>
					</section>
					<section>
						<h3>from a</h3>
						<h1 class="fragment highlight-blue">developer</h1>
						<h3>to</h3>
						<h1 class="fragment highlight-red">developers</h1>
					</section>
					<section>
						<h3>What UIs are autogenerated from the data model?  How does that work?</h3>
						<h3 class="fragment fade-in accent">How can we extend the UIs to provide custom functionality?</h3>
						<h3 class="fragment fade-in">How could they be used to operate CORD in production?</h3>
						<aside class="notes">
							What we'll try to address in this presentation is:
						</aside>
					</section>
				</section>
				<section>
					<section>
						<h2>What is</h2>
						<h2>controlling CORD</h2>
						<h2>about ?</h2>
					</section>
					<section class="fig-container"
									 data-fig-id="fig-controlling-cord"
									 data-file="lib/diagrams/controlling-cord.html">
					</section>
				</section>
				<section data-transition="zoom">
					<h1>Who are our users?</h1>
				</section>
				<section>
					<section>
						<h2>Operators</h2>
						<h4 class="fragment">
							deploy CORD, attach subscribers to it and monitor the system
						</h4>
					</section>
					<section>
						<h3>Expectations:</h3>
						<ul class="silent">
							<li class="fragment">bulk changes</li>
							<li class="fragment">status report</li>
							<li class="fragment">realtime notifications</li>
						</ul>
					</section>
				</section>
				<section data-transition="zoom">
					<section>
						<h2>Developers</h2>
						<h4 class="fragment">
							introduce new features on top of a stable platform
						</h4>
					</section>
					<section>
						<h3>Expectations:</h3>
						<ul class="silent">
							<li class="fragment">stable APIs</li>
							<li class="fragment">documentation</li>
							<li class="fragment">debugging tools</li>
						</ul>
					</section>
				</section>
				<section>
					<section data-transition="zoom">
						<h2 class="fragment">The generative toolchain</h2>
						<h4 class="fragment">a journey from xProto to the UIs</h4>
						<aside class="notes">
							How did we achieve to have common UIs that support both cases?
						</aside>
					</section>
					<section>
						<h2>xProto</h2>
						<pre class="fragment"><code data-trim data-noescape="">
							option app_label = "core";

							message ServiceInstance (XOSBase, AttributeMixin) {
								optional string name = 1 [db_index = False, max_length = 200, null = True, content_type = "stripped", blank = True];
								required manytoone owner->Service:service_instances = 2 [db_index = True, null = False, blank = False];
								optional string service_specific_id = 3 [db_index = False, max_length = 30, null = True, content_type = "stripped", blank = True];
								optional string service_specific_attribute = 10 [db_index = False, null = True, blank = True, varchar = True];
								optional uint32 link_deleted_count = 11 [default = 0, help_text = "Incremented each time a provided_link is deleted from this ServiceInstance"];
							}
							</code></pre>
					</section>
					<section class="fig-container"
						 data-fig-id="fig-xproto-journey"
						 data-file="lib/diagrams/xproto-journey.html">
						<aside class="notes">
							This is the high level views, but how are this components connected togheter?
						</aside>
					</section>
					<section>
						<h1>Make me nice!</h1>
						<img src="lib/images/xos-components.png">
					</section>
				</section>
				<section>
					<section>
						<h1>xos-tosca</h1>
						<h3 class="fragment fade-up">
							Enable
							<span class="accent">well adopted standards</span>
							to be used in
							<span class="accent">CORD</span>
						</h3>
						<aside class="notes">
							Topology and Orchestration Specification for Cloud Applications
						</aside>
					</section>
					<section>
						<img src="lib/images/tosca-def.png">
						<img class="fragment fade-down" src="lib/images/tosca-recipe.png" style="position: absolute; top: -20px; right: -20px">
					</section>
					<section class="fig-container"
					 data-fig-id="fig-tosca"
					 data-file="lib/diagrams/tosca.html">
					</section>
				</section>
				<section>
					<section>
						<h1>Chameleon</h1>
						<h3 class="fragment fade-up">Provide a binding between the
							<code class="accent">gRPC</code> APIs exposed and
							<code class="accent">REST</code> APIs
						</h3>
					</section>
					<section>
						<ul class="silent">
							<li class="fragment fade-left">
								<h4>borrowed from VOLTHA</h4>
							</li>
							<li class="fragment fade-left">
								<h4>expose a python webserver</h4>
							</li>
						</ul>
					</section>
					<section class="fig-container"
						 data-fig-id="fig-chameleon"
						 data-file="lib/diagrams/chameleon.html">
					</section>
						<aside class="notes">
							new service onboarded -> models loaded in the core -> chameleon restarted -> generate new routes for the models
						</aside>
					</section>
				</section>
				<section>
					<section>
						<h1>xos-ws</h1>
						<h3 class="fragment">
							Listen to changes in the <br>
							<span class="accent">data-model</span>
							and emit events <br>
							via <span class="accent">web-sockets</span>
						</h3>
					</section>
					<section>
						<ul class="silent">
							<li class="fragment fade-left">
								<h4><i>read only</i></h4>
							</li>
							<li class="fragment fade-left">
								<h4>provide real time notification</h4>
							</li>
							<li class="fragment fade-left">
								<h4>enable progressive caching in the GUI</h4>
							</li>
						</ul>
					</section>
					<section class="fig-container"
					 data-fig-id="fig-redis-to-ws"
					 data-file="lib/diagrams/redis-to-ws.html"></section>
				</section>
				<section>
					<section>
						<h1>xos-gui</h1>
						<h3 class="fragment">
							the <span class="accent">operator</span> portal
						</h3>
					</section>
					<section>
						<h1>CRUD</h1>
						<h1>+</h1>
						<h1>Custom Views</h1>
					</section>
					<section class="gui-logos">
							<img class="plain fragment fade-right" src="lib/images/angular.png">
							<img class="plain fragment fade-left" src="lib/images/rxjs.png">
							<img class="plain fragment fade-right" src="lib/images/ts.png">
							<img class="plain fragment fade-left" src="lib/images/bootstrap.png">
						<aside class="notes">
							Based on cutting edge web technologies
						</aside>
					</section>
					<section>
						<h1>Auto <br> generated</h1>
						<aside class="notes">
							given that we have 90+ models and they are still growing the GUI needs to be autogenerated
						</aside>
					</section>
					<section>
						<img src="lib/images/instance-xproto.png">
						<img class="fragment fade-in" src="lib/images/instance-modeldef-fields.png" style="position: absolute; left: -60px; top: -40px">
						<img class="fragment fade-in" src="lib/images/instance-modeldef-relations.png" style="position: absolute; right: -40px; top: 60px">
					</section>
					<section data-transition="zoom" data-background-image="lib/images/xos-gui.png" class="background-left">
						<aside class="notes">
							Generate the navigation, tables, forms
						</aside>
					</section>
					<section>
						<h1>progressive <br> caching</h1>
					</section>
					<section class="fig-container"
									 data-fig-id="fig-progressive-caching"
									 data-file="lib/diagrams/progressive-caching.html">
						<aside class="notes">
							when a view it's loaded it ask "discoverer" for the model config, then ask the store for data.
							The store make a rest request return an Observable and start listening for events regarding that model to update the view in relatime
						</aside>
					</section>
					<section>
						<h3>progressive caching enables</h3>
						<ul>
							<li class="fragment fade-left">full text search</li>
							<li class="fragment fade-left">dynamic population of relations dropdowns</li>
							<li class="fragment fade-left">real-time notifications</li>
						</ul>
					</section>
					<section>
						<h1>keyboard <br> shortcuts</h1>
						<ul>
							<li class="fragment fade-left">Any view has its own shortcuts</li>
							<li class="fragment fade-left">view them by pressing <code style="background: #3f3f3f" class="accent">?</code></li>
							<img src="lib/images/xos-sidebar-1.png" class="pdf-hide fragment fade-left plain xos-sidebar">
							<img src="lib/images/xos-sidebar-2.png" class="pdf-hide fragment fade-left plain xos-sidebar">
						</ul>
					</section>
					<section>
						<h1>debug</h1>
						<img src="lib/images/xos-debug-view.png" style="max-width: 60%">
					</section>
				</section>
				<section>
					<section>
						<h1>extensibility</h1>
					</section>
					<section>
						<h3>Services are that different that is not possible to generate a</h3>
						<h2>one fit all</h2>
						<h3>visualization</h3>
					</section>
					<section>
						<div class="fragment fade-in">
							A <span class="accent">component</span> is a set of <br>
							<code>Html</code> + <code>Js/Ts</code> + <code>Css</code> <br>
							that combine functionalities in an isolated entity that can be included in an Html page
						</div>
						<pre class="fragment fade-in"><code>
<xos-form ng-model="vm.model" config="vm.formCfg"></xos-form>
							</code></pre>
						<aside class="notes">
							Before talking about extensibility it's important the understant the concept of ui-component
						</aside>
					</section>
					<section data-transition="zoom" data-background-image="lib/images/xos-form.png" class="background-left">
					</section>
					<section>
						<h3>The XOS GUI is extensible by design and support:</h3>
					</section>
					<section>
						<h1 class="fragment fade-up">Custom views</h1>
						<ul>
							<li class="fragment fade-left">At service level</li>
							<li class="fragment fade-left">At profile level</li>
						</ul>
						<p class="fragment fade-up">Custom views can access any <span class="accent">API</span>
							provided by and any <span class="accent">component</span> defined in the gui-core</p>
					</section>
					<section data-background-image="lib/images/subscriber-dashboard.png" class="background-left">
					</section>
					<section>
						<h1 class="fragment fade-up">Component injection</h1>
						<ul>
							<li class="fragment fade-left">In the dashboard</li>
							<li class="fragment fade-left">In the sidebar</li>
						</ul>
						<p class="fragment fade-up">Injected components can access any <span class="accent">API</span>
							provided by and any <span class="accent">component</span> defined in the gui-core</p>
					</section>
					<section>
						<h2>
							<span class="accent">Extensibility</span> is available through
							<span class="accent">runtime</span> loading of client side <span class="accent">applications</span></h2>
					</section>
					<section>
						<img src="lib/images/ui-extensions.png" alt="">
					</section>
					<section>
						<h1>Generator</h1>
						<h3 class="fragment fade-up">Based on Yeoman</h3>
						<h3 class="fragment fade-up">Setup the application skeleton</h3>
						<h3 class="fragment fade-up">Create a development environment</h3>
						<aside class="notes">
							Yeoman is the de facto standard for js apps scaffholding
						</aside>
					</section>
					<section>
						<h2><code class="accent">yo xos-gui-extension</code></h2>
					</section>
				</section>
				<section data-markdown="">
					# Documentation
					- guide.opencord.org
					- swagger
				</section>
				<section>
					<section>
						<h1>Roadmap</h1>
						<ul class="silent">
							<li>Improve notifications</li>
							<code>Provisioning in progress
								defer object template_instance due to waiting on instance</code>
							<li>downsize containers</li>
						</ul>
					</section>
					<section>
						<h1>Requirements</h1>
					</section>
					<section>
						<h2>You are the user!</h2>
						<h1 class="fragment fade-up">this is <span class="accent">your</span> call!</h1>
						<h4 class="fragment fade-left">setup a biweekly call???</h4>
					</section>
				</section>
				<section>
					<h1 class="accent">Thanks</h1>
					<p>@teone</p>
				</section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'lib/js/d3.js' },
					{ src: 'plugin/d3js/d3js.js' }
				],
				transition: 'slide',
				history: true,
				backgroundTransition: 'zoom', // none/fade/slide/convex/concave/zoom
				slideNumber: 'c/t',
			});
		</script>
	</body>
</html>
